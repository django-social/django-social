{% extends "base.html" %}
{% load i18n %}
{% load media %}

{% block content %}

<h1>{% trans "Themes" %}</h1>

<div id="content-main">
{% for theme in objects.object_list  %}
    <b>{{ theme.name }}</b>
    <br />
    <b>{{ theme.description }}</b>
    <br />
    <img src="{% url themes:file_view theme_id=theme.id file_name='preview.png' %}" alt="" />
    <br />
    {% if can_manage %}
        <a href="{% url themes:delete theme_id=theme.id %}">{% trans "Delete" %}</a>
    {% endif %}
    <a href="{% url themes:set theme_id=theme.id %}">{% trans "Set" %}</a>
{% endfor %}
</div>

{% include 'includes/pagination.html' %}
{% if can_manage %}
    <form action="{% url themes:add %}" method="post" enctype="multipart/form-data">
    <table>
    {{ form.as_table }}
    </table>
    <input type="submit" value="{% trans "Add" %}"/>
    </form>
{% endif %}

{% if request.user.profile.theme %}
    <a href="{% url themes:unset %}">{% trans "Unset" %}</a>
{% endif %}

{% endblock %}
